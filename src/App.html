
<div class='clock'>
    <Clock time={curr_time}/>
</div>
<div class='calendar'>
    <Calendar td_date={td_date} td_dow={td_dow}/>
</div>

<script>
    import Calendar from './Calendar.html';
    import Clock from './Clock.html';
    import 'whatwg-fetch';

    export default {
        components : { Calendar, Clock },
        oncreate() {
            var urly = window.location.href;
            var conf = {
                method: "GET",
                cache: "no-cache",
            }
            fetch(urly, conf)
                .then(res => {
                    var date = new Date(res.headers.get('Date'));
                    this.set({
                        curr_time: date,
                        td_dow: date.getDay(),
                        td_date: date.getDate()
                    })
                    console.log("server date is: ", date)
                })
        },
        data() {
            return {
                curr_time: new Date(0),
                td_date: 23,
                td_dow: 5,
            }
        }
    }
</script>

<style>
    .calendar {
        background-color: rgb(199, 235, 223);
        width: 415px;
        align-content: center;
        text-align: center;
        margin: 0 auto;

    }
    .clock {
        align-content: center;
        text-align: center;
        margin: 0 auto;
        width: 200px;
        height: 200px;
    }
</style>